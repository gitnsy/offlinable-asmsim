<!DOCTYPE html>
<html>
<!--<html manifest="asmsim.appcache">-->
<head>
    <meta charset="UTF-8">
    <title>BB-AsmSim</title>
    <link rel="stylesheet" href="css/top.css" />
    <link rel="stylesheet" href="css/accordion.css" />

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-44868550-1', 'gitnsy.github.io');
        ga('send', 'pageview');
    </script>
</head>
<body>
    <h1>BB-AsmSim</h1>

    <div>
        <a href="about.html">このページについて</a>
    </div>

    <div class="ac-container">
        <input id="ac1" type="checkbox" checked="checked" />
        <label for="ac1">サマリー</label>
        <article class="summary">
            頭部:<select data-bind="options: headList, value: selectedHead, optionsText: 'name'"></select><span class="partsInfo">重:<span data-bind="    text: selectedHead().weight"></span>装:<span data-bind="    text: selectedHead().armor"></span>射:<span data-bind="    text: selectedHead().shotAdjust"></span>索:<span data-bind="    text: selectedHead().search"></span>ロ:<span data-bind="    text: selectedHead().lockon"></span>チ:<span data-bind="    text: selectedHead().chipCapacity"></span></span><br />
            胴部:<select data-bind="options: bodyList, value: selectedBody, optionsText: 'name'"></select><span class="partsInfo">重:<span data-bind="    text: selectedBody().weight"></span>装:<span data-bind="    text: selectedBody().armor"></span>ブ:<span data-bind="    text: selectedBody().boosterGen"></span>SP:<span data-bind="    text: selectedBody().spGen"></span>エ:<span data-bind="    text: selectedBody().areaChange"></span>チ:<span data-bind="    text: selectedBody().chipCapacity"></span></span><br />
            腕部:<select data-bind="options: armList, value: selectedArm, optionsText: 'name'"></select><span class="partsInfo">重:<span data-bind="    text: selectedArm().weight"></span>装:<span data-bind="    text: selectedArm().armor"></span>反:<span data-bind="    text: selectedArm().recoil"></span>リ:<span data-bind="    text: selectedArm().reload"></span>替:<span data-bind="    text: selectedArm().weaponChange"></span>チ:<span data-bind="    text: selectedArm().chipCapacity"></span></span><br />
            脚部:<select data-bind="options: legList, value: selectedLeg, optionsText: 'name'"></select><span class="partsInfo">重:<span data-bind="    text: selectedLeg().weight"></span>装:<span data-bind="    text: selectedLeg().armor"></span>歩:<span data-bind="    text: selectedLeg().walk"></span>ダ:<span data-bind="    text: selectedLeg().dash"></span>積:<span data-bind="    text: selectedLeg().weightCapacity"></span>チ:<span data-bind="    text: selectedLeg().chipCapacity"></span></span><br />
            チップ容量:<span data-bind="text: totalChipCost"></span>/<span data-bind="    text: totalChipCapacity"></span> 猶予:<span data-bind="    text: totalChipCapacity() - totalChipCost()"></span><br>
            (仮)装甲平均値:<span data-bind="text: armorAvarage"></span><br>
            セットボーナス:<span data-bind="text: setBonus"></span><br>
            積載猶予:<span data-bind="text: capacity() - totalWeight()"></span><br>
            <div class="armor"></div>
        </article>
    </div>
    <div class="ac-container">
        <input id="ac1-1" type="checkbox" />
        <label for="ac1-1">強襲</label>
        <article>
            <span class="assault" data-bind="template: {
    name: 'speedSummary', data: {
        capacity: capacity, totalWeight: assaultWeight
            , mains: assaultMainWeapons, main: selectedAssaultMain
            , subs: assaultSubWeapons, sub: selectedAssaultSub
            , sps: assaultSpWeapons, sp: selectedAssaultSp
            , assists: assaultAssistWeapons, assist: selectedAssaultAssist
    }
}"></span>
        </article>
    </div>
    <div class="ac-container">

        <input id="ac1-2" type="checkbox" />
        <label for="ac1-2">重火力</label>
        <article>
            <span class="heavy" data-bind="template: {
    name: 'speedSummary', data: {
        capacity: capacity, totalWeight: heavyWeight
        , mains: heavyMainWeapons, main: selectedHeavyMain
        , subs: heavySubWeapons, sub: selectedHeavySub
        , sps: heavySpWeapons, sp: selectedHeavySp
        , assists: heavyAssistWeapons, assist: selectedHeavyAssist
    }
}"></span>
        </article>
    </div>
    <div class="ac-container">
        <input id="ac1-3" type="checkbox" />
        <label for="ac1-3">支援</label>
        <article>
            <span class="support" data-bind="template: {
    name: 'speedSummary', data: {
        capacity: capacity, totalWeight: supportWeight
        , mains: supportMainWeapons, main: selectedSupportMain
        , subs: supportSubWeapons, sub: selectedSupportSub
        , sps: supportSpWeapons, sp: selectedSupportSp
        , assists: supportAssistWeapons, assist: selectedSupportAssist
    }
}"></span>
        </article>
    </div>
    <div class="ac-container">
        <input id="ac1-4" type="checkbox" />
        <label for="ac1-4">狙撃</label>
        <article>
            <span class="snipper" data-bind="template: {
    name: 'speedSummary', data: {
        capacity: capacity, totalWeight: sniperWeight
        , mains: sniperMainWeapons, main: selectedSniperMain
        , subs: sniperSubWeapons, sub: selectedSniperSub
        , sps: sniperSpWeapons, sp: selectedSniperSp
        , assists: sniperAssistWeapons, assist: selectedSniperAssist
    }
}"></span>
        </article>
    </div>

    <div id="frame">
        <div class="ac-container">
            <input id="ac2-1" type="checkbox" />
            <label for="ac2-1">頭部</label>
            <article>
                <div class="head">
                    <div data-bind="template: { name: 'frameParts', data: { list: headList, target: selectedHead } }"></div>
                    <div>
                        重量:<span data-bind="text: selectedHead().weight"></span><br />
                        装甲:<span data-bind="text: selectedHead().armor"></span><br />
                        射撃補正:<span data-bind="text: selectedHead().shotAdjust"></span><br />
                        索敵:<span data-bind="text: selectedHead().search"></span><br />
                        ロックオン:<span data-bind="text: selectedHead().lockon"></span><br />
                        チップ容量:<span data-bind="text: selectedHead().chipCapacity"></span><br />
                    </div>
                </div>
                <div class="nestedAccordion ac-container">
                    <input id="headListTable" type="checkbox" />
                    <label for="headListTable">パーツ一覧</label>
                    <article>
                        <div data-bind="template: { name: 'Filter', data: { weight: filterHeadWeight, props: headProps, currentFilters: headFilters } }"></div>

                        <table>
                            <thead>
                                <tr>
                                    <td>名前</td>
                                    <td>重量</td>
                                    <td>装甲</td>
                                    <td>射撃補正</td>
                                    <td>索敵</td>
                                    <td>ロックオン</td>
                                    <td>チップ容量</td>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: filterdHead">
                                <tr>
                                    <td data-bind="text: name"></td>
                                    <td data-bind="    text: weight"></td>
                                    <td data-bind="    text: armor"></td>
                                    <td data-bind="    text: shotAdjust"></td>
                                    <td data-bind="    text: search"></td>
                                    <td data-bind="    text: lockon"></td>
                                    <td data-bind="    text: chipCapacity"></td>
                                </tr>
                            </tbody>
                        </table>
                    </article>
                </div>
            </article>
        </div>
        <div class="ac-container">
            <input id="ac2-2" type="checkbox" />
            <label for="ac2-2">胴部</label>
            <article>

                <div class="body">
                    <div data-bind="template: { name: 'frameParts', data: { list: bodyList, target: selectedBody } }"></div>
                    <div>
                        重量:<span data-bind="text: selectedBody().weight"></span><br />
                        装甲:<span data-bind="text: selectedBody().armor"></span><br />
                        ブースト:<span data-bind="text: selectedBody().boosterGen"></span><br />
                        SP:<span data-bind="text: selectedBody().spGen"></span><br />
                        エリア移動:<span data-bind="text: selectedBody().areaChange"></span><br />
                        チップ容量:<span data-bind="text: selectedBody().chipCapacity"></span><br />
                    </div>
                </div>
                <div class="nestedAccordion ac-container">
                    <input id="bodyListTable" type="checkbox" />
                    <label for="bodyListTable">パーツ一覧</label>
                    <article>
                        <div data-bind="template: { name: 'Filter', data: { weight: filterBodyWeight, props: bodyProps, currentFilters: bodyFilters } }"></div>

                        <table>
                            <thead>
                                <tr>
                                    <td>名前</td>
                                    <td>重量</td>
                                    <td>走行</td>
                                    <td>ブースト</td>
                                    <td>SP</td>
                                    <td>エリア移動</td>
                                    <td>チップ容量</td>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: filterdBody">
                                <tr>
                                    <td data-bind="text: name"></td>
                                    <td data-bind="    text: weight"></td>
                                    <td data-bind="    text: armor"></td>
                                    <td data-bind="    text: boosterGen"></td>
                                    <td data-bind="    text: spGen"></td>
                                    <td data-bind="    text: areaChange"></td>
                                    <td data-bind="    text: chipCapacity"></td>
                                </tr>
                            </tbody>
                        </table>
                    </article>
                </div>

            </article>
        </div>
        <div class="ac-container">
            <input id="ac2-3" type="checkbox" />
            <label for="ac2-3">腕部</label>
            <article>
                <div class="arm">
                    <div data-bind="template: { name: 'frameParts', data: { list: armList, target: selectedArm } }"></div>
                    <div>
                        重量:<span data-bind="text: selectedArm().weight"></span><br />
                        装甲:<span data-bind="text: selectedArm().armor"></span><br />
                        反動吸収:<span data-bind="text: selectedArm().recoil"></span><br />
                        リロード:<span data-bind="text: selectedArm().reload"></span><br />
                        武器切替:<span data-bind="text: selectedArm().weaponChange"></span><br />
                        チップ容量:<span data-bind="text: selectedArm().chipCapacity"></span><br />
                    </div>
                </div>
                <div class="nestedAccordion ac-container">
                    <input id="armListTable" type="checkbox" />
                    <label for="armListTable">パーツ一覧</label>
                    <article>
                        <div data-bind="template: { name: 'Filter', data: { weight: filterArmWeight, props: armProps, currentFilters: armFilters } }"></div>
                        <table>
                            <thead>
                                <tr>
                                    <td>名前</td>
                                    <td>重量</td>
                                    <td>装甲</td>
                                    <td>反動吸収</td>
                                    <td>リロード</td>
                                    <td>武器切替</td>
                                    <td>チップ容量</td>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: filterdArm">
                                <tr>
                                    <td data-bind="text: name"></td>
                                    <td data-bind="    text: weight"></td>
                                    <td data-bind="    text: armor"></td>
                                    <td data-bind="    text: recoil"></td>
                                    <td data-bind="    text: reload"></td>
                                    <td data-bind="    text: weaponChange"></td>
                                    <td data-bind="    text: chipCapacity"></td>
                                </tr>
                            </tbody>
                        </table>
                    </article>
                </div>

            </article>
        </div>
        <div class="ac-container">
            <input id="ac2-4" type="checkbox" />
            <label for="ac2-4">脚部</label>
            <article>
                <div class="leg">
                    <div>
                        重量:<span data-bind="text: selectedLeg().weight"></span><br />
                        装甲:<span data-bind="text: selectedLeg().armor"></span><br />
                        歩行:<span data-bind="text: selectedLeg().walk"></span><br />
                        ダッシュ:<span data-bind="text: selectedLeg().dash"></span><br />
                        重量耐性:<span data-bind="text: selectedLeg().weightCapacity"></span><br />
                        チップ容量:<span data-bind="text: selectedLeg().chipCapacity"></span><br />
                    </div>
                </div>
                <div class="nestedAccordion ac-container">
                    <input id="legListTable" type="checkbox" />
                    <label for="legListTable">パーツ一覧</label>
                    <article>
                    <div data-bind="template: { name: 'Filter', data: { weight: filterLegWeight, props: legProps, currentFilters: legFilters } }"></div>
                        <table>
                            <thead>
                                <tr>
                                    <td>名前</td>
                                    <td>重量</td>
                                    <td>装甲</td>
                                    <td>歩行</td>
                                    <td>ダッシュ</td>
                                    <td>重量耐性</td>
                                    <td>チップ容量</td>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: filterdLeg">
                                <tr>
                                    <td data-bind="text: name"></td>
                                    <td data-bind="    text: weight"></td>
                                    <td data-bind="    text: armor"></td>
                                    <td data-bind="    text: walk"></td>
                                    <td data-bind="    text: dash"></td>
                                    <td data-bind="    text: weightCapacity"></td>
                                    <td data-bind="    text: chipCapacity"></td>
                                </tr>
                            </tbody>
                        </table>
                    </article>
                </div>

            </article>
        </div>
    </div>

    <div class="ac-container">
        <input id="ac-3" type="checkbox" />
        <label for="ac-3">チップ</label>
        <article>
            特殊機能
            <div class="chip" data-bind="foreach: advanceChipList">
                <span data-bind="text: name"></span>
                <span data-bind="text: cost"></span>
                <input type="checkbox" data-bind="checked: selected" />
            </div>
            機体強化
            <div class="chip" data-bind="foreach: enhanceChipList">
                <span data-bind="text: name"></span>
                <span data-bind="text: cost"></span>
                <input type="checkbox" data-bind="checked: selected" />
            </div>
            アクション
            <div class="chip" data-bind="foreach: actionChipList">
                <span data-bind="text: name"></span>
                <span data-bind="text: cost"></span>
                <input type="checkbox" data-bind="checked: selected" />
            </div>
        </article>
    </div>

    <div class="ac-container">
        <input id="ac-4" type="checkbox" />
        <label for="ac-4">要請兵器</label>
        <article>
            <select data-bind="options: boltonArmList, value: selectedBoltOnArm, optionsText: 'name'"></select>重量:<span data-bind="    text: selectedBoltOnArm().weight"></span>
            <input id="onBOA" type="checkbox" data-bind="checked: addBoltonArmWeight" />
            <label for="onBOA">要請兵器の重量を有効にする</label>
        </article>
    </div>

    <footer>
        <p>sourcecode on <a href="https://github.com/gitnsy/offlinable-asmsim">GitHub</a></p>
        <p>issues(known bugs and feature plan):<a href="https://github.com/gitnsy/offlinable-asmsim/issues?state=open">GitHub offlinable-asmsim issues</a></p>
        <p>creating by:<a href="https://twitter.com/tw_nsy">nsy</a></p>
        <p>©SEGA</p>
    </footer>

    <div>
        <script src="Scripts/knockout-2.3.0.js"></script>
        <script src="Scripts/asmsim/datacontext.js"></script>
        <script src="Scripts/asmsim/ViewModel.js"></script>
        <script src="Scripts/asmsim/data/headParts.js"></script>
        <script src="Scripts/asmsim/data/armParts.js"></script>
        <script src="Scripts/asmsim/data/bodyParts.js"></script>
        <script src="Scripts/asmsim/data/legParts.js"></script>
        <script src="Scripts/asmsim/data/realvalue.js"></script>
        <script src="Scripts/asmsim/data/assaultmain.js"></script>
        <script src="Scripts/asmsim/data/assaultsub.js"></script>
        <script src="Scripts/asmsim/data/assaultassist.js"></script>
        <script src="Scripts/asmsim/data/assaultsp.js"></script>
        <script src="Scripts/asmsim/data/heavymain.js"></script>
        <script src="Scripts/asmsim/data/heavysub.js"></script>
        <script src="Scripts/asmsim/data/heavyassist.js"></script>
        <script src="Scripts/asmsim/data/heavysp.js"></script>
        <script src="Scripts/asmsim/data/snipermain.js"></script>
        <script src="Scripts/asmsim/data/snipersub.js"></script>
        <script src="Scripts/asmsim/data/sniperassist.js"></script>
        <script src="Scripts/asmsim/data/snipersp.js"></script>
        <script src="Scripts/asmsim/data/supportmain.js"></script>
        <script src="Scripts/asmsim/data/supportsub.js"></script>
        <script src="Scripts/asmsim/data/supportassist.js"></script>
        <script src="Scripts/asmsim/data/supportsp.js"></script>
        <script src="Scripts/asmsim/data/setbonus.js"></script>
        <script src="Scripts/asmsim/data/chip.js"></script>
        <script src="Scripts/asmsim/data/boltonarms.js"></script>

        <script type="text/html" id="frameParts">
            <select data-bind="options: list, value: target, optionsText: 'name'"></select>
        </script>

        <script type="text/html" id="speedSummary">
            <span data-bind="    text: totalWeight"></span>/<span data-bind="    text: capacity"></span> 猶予:<span data-bind="    text: (capacity() - totalWeight())"></span>
            <div class="weapon" style>
                <div class="main">main:<select data-bind="options: mains, value: main, optionsText: 'name'"></select>重量:<span data-bind="    text: main().weight"></span></div>
                <div class="sub">sub:<select data-bind="options: subs, value: sub, optionsText: 'name'"></select>重量:<span data-bind="    text: sub().weight"></span></div>
                <div class="assist">assist:<select data-bind="options: assists, value: assist, optionsText: 'name'"></select>重量:<span data-bind="    text: assist().weight"></span></div>
                <div class="sp">sp:<select data-bind="options: sps, value: sp, optionsText: 'name'"></select>重量:<span data-bind="    text: sp().weight"></span></div>
            </div>
        </script>

        <!-- property:weight,props,filters -->
        <script type="text/html" id="Filter">
            重量上限:<input type="number" data-bind="value: weight" />
            <!--<input type="button" value="フィルタ追加" data-bind="click: function (currentFilters) { $root.addFilter(data,event) }" />-->
            <span data-bind="foreach: currentFilters">
                <select data-bind="options: $parents[0].props, value: sourceProp, optionsText:'name',optionsValue:'prop'"></select>
                <select data-bind="options: $root.partsRank, value: target"></select>
                <select data-bind="options: $root.filters, optionsText: 'name', value: comparator, optionsValue: 'routine' "></select>
                <!--<input type="button" value="削除" disabled="disabled" />-->
            </span>
        </script>

        <script>
            vm = new asmsim.viewModel();
            ko.applyBindings(vm);
        </script>
    </div>
</body>
</html>
